<!DOCTYPE html>
<html lang="pt-BR">

<head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <meta name="description" content="Grãos & Aromas - Seu refúgio de café artesanal">
     <link rel="icon" href="./img/favcoffee.svg" type="image/svg+xml">
     <title>Grãos & Aromas Cafeteria</title>
     <script src="https://cdn.tailwindcss.com"></script>
     <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

     <script>
          tailwind.config = {
               theme: {
                    extend: {
                         colors: {
                              'cafe': '#ff8c00',
                              'cafe-dark': '#e67e00',
                         },
                         fontFamily: {
                              'serif': ['Georgia', 'Times New Roman', 'serif'],
                         }
                    }
               }
          }
     </script>

     <style>
          html {
               scroll-behavior: smooth;
          }

          body {
               font-family: Georgia, 'Times New Roman', serif;
          }

          .navbar-link {
               transition: opacity 0.2s ease;
          }

          .navbar-link:active {
               opacity: 0.7;
          }

          .content-link {
               transition: opacity 0.2s ease;
          }

          .content-link:active {
               opacity: 0.7;
          }

          .content h1,
          .content h2,
          .content h3 {
               scroll-margin-top: 120px;
          }

          .content code {
               font-family: 'Courier New', monospace;
          }

          .content pre code {
               background-color: transparent;
               padding: 0;
               border: none;
          }

          .content blockquote {
               font-style: italic;
          }
     </style>
</head>

<body class="bg-gray-50 text-gray-900 mt-20 sm:mt-24 text-base leading-relaxed">

     <nav class="fixed top-0 left-0 w-full bg-black flex items-center justify-start gap-4 sm:gap-6 md:gap-8 px-4 sm:px-6 md:px-11 py-4 sm:py-5 shadow-lg z-[1000]"
          id="nav-links" role="navigation" aria-label="Navegação principal">
          <img src="./img/coffee.png" alt="Logo Grãos & Aromas"
               class="rounded-full w-6 h-6 sm:w-7 sm:h-7 object-cover border-2 border-cafe shadow-[0_0_12px_rgba(255,140,0,0.4)]">
     </nav>

     <main class="max-w-[820px] mx-auto mb-20 px-4 sm:px-6 md:px-10 py-6 sm:py-8 md:py-10 bg-white rounded-lg sm:rounded-xl shadow-lg border border-gray-200 content"
          id="content" role="main">
          <h1 class="text-3xl sm:text-4xl mb-6 pb-4 border-b-2 border-gray-300 text-gray-900">Carregando...</h1>
     </main>

     <footer class="text-center text-gray-700 py-8 px-4 text-sm sm:text-base bg-transparent">
          <p>
               <a href="https://github.com/devgbr86" target="_blank" rel="noopener noreferrer"
                    class="text-gray-700 font-medium no-underline transition-opacity duration-200 active:opacity-70">
                    github.com/devgbr86
               </a>
          </p>
     </footer>

     <script>
          const contentFolder = 'pages/';
          const files = ['Home.md', 'Carta.md', 'Bebidas.md', 'Contato.md'];
          const navContainer = document.getElementById('nav-links');
          const contentContainer = document.getElementById('content');

          files.forEach(file => {
               const link = document.createElement('a');
               link.textContent = file.replace('.md', '');
               link.className = 'text-cafe no-underline font-medium cursor-pointer text-sm sm:text-base navbar-link';
               link.href = '#';
               link.setAttribute('role', 'button');
               link.addEventListener('click', (e) => {
                    e.preventDefault();
                    loadMarkdown(file);
               });
               navContainer.appendChild(link);
          });

          async function loadMarkdown(file = 'Home.md') {
               try {
                    const response = await fetch(`${contentFolder}${file}`);
                    if (!response.ok) throw new Error('Erro ao carregar o arquivo Markdown.');

                    const markdown = await response.text();
                    const html = marked.parse(markdown);

                    contentContainer.innerHTML = html;
                    applyStylesToContent();
               } catch (error) {
                    console.error(error);
                    contentContainer.innerHTML = '<p class="text-gray-600">Erro ao carregar o conteúdo.</p>';
               }
          }

          function applyStylesToContent() {
               const content = document.getElementById('content');

               content.querySelectorAll('h1').forEach(el => {
                    el.className = 'text-3xl sm:text-4xl mb-6 pb-4 border-b-2 border-gray-300 text-gray-900 font-semibold';
               });

               content.querySelectorAll('h2').forEach(el => {
                    el.className = 'text-2xl sm:text-3xl mt-12 mb-6 text-gray-800 font-semibold';
               });

               content.querySelectorAll('h3').forEach(el => {
                    el.className = 'text-xl sm:text-2xl mt-10 mb-5 text-gray-700 font-semibold';
               });

               content.querySelectorAll('p').forEach(el => {
                    el.className = 'mb-5 text-gray-700 leading-relaxed';
               });

               content.querySelectorAll('ul, ol').forEach(el => {
                    el.className = 'ml-5 sm:ml-6 mb-6 space-y-3';
               });

               content.querySelectorAll('li').forEach(el => {
                    el.className = 'pl-2 text-gray-700 leading-relaxed';
               });

               content.querySelectorAll('code').forEach(el => {
                    if (el.parentElement.tagName !== 'PRE') {
                         el.className = 'bg-gray-100 px-2 py-1 rounded border border-gray-300 text-sm text-red-600';
                    }
               });

               content.querySelectorAll('pre').forEach(el => {
                    el.className = 'bg-gray-100 p-4 sm:p-5 rounded-lg sm:rounded-xl overflow-x-auto mb-6 border-2 border-gray-300 border-l-4 border-l-black shadow-md';
               });

               content.querySelectorAll('blockquote').forEach(el => {
                    el.className = 'border-l-4 border-black pl-4 sm:pl-5 my-6 text-gray-600 italic';
               });

               content.querySelectorAll('img').forEach(el => {
                    el.className = 'w-full h-auto block my-8 rounded-lg sm:rounded-xl shadow-lg border-2 border-gray-200 object-cover';
               });

               content.querySelectorAll('a').forEach(el => {
                    el.className = 'text-cafe no-underline font-medium content-link';
               });

               content.querySelectorAll('hr').forEach(el => {
                    el.className = 'border-0 border-t-2 border-gray-300 my-10';
               });

               content.querySelectorAll('table').forEach(el => {
                    el.className = 'w-full border-collapse my-6 shadow-md rounded-lg overflow-hidden';
               });

               content.querySelectorAll('th, td').forEach(el => {
                    el.className = 'border border-gray-300 p-3 text-left text-sm sm:text-base';
               });

               content.querySelectorAll('th').forEach(el => {
                    el.className = 'border border-gray-300 p-3 text-left bg-gray-100 font-semibold text-gray-900 text-sm sm:text-base';
               });

               const firstImg = content.querySelector('img');
               if (firstImg) {
                    firstImg.classList.remove('my-8');
                    firstImg.classList.add('mt-4', 'mb-8');
               }
          }

          document.addEventListener('DOMContentLoaded', () => loadMarkdown());
     </script>
</body>

</html>